
<!DOCTYPE html>
<!-- *** PAGINAS VISITADAS ***
	https://stackoverflow.com/questions/31609623/remove-nearest-li-element-using-jquery
	https://stackoverflow.com/questions/4981765/jquery-create-list-item-from-user-input-on-click
	https://stackoverflow.com/questions/9236332/jquery-how-to-empty-input-field
-->
<html>
	<head>
		<h1> My Favorite Movies </h1>
		<title> Movies </title>
		<script src=https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js></script>
	</head>
	<body>
		<ol id="myList"></ol>
		<input id="valor" type="text"/>
		<button id="boton" > Add Element </button>
		<script type="text/javascript" >
			var storage_size = localStorage.length;
			for(var i=0; i<storage_size; i++){
				var item = localStorage.getItem(localStorage.key(i));
				var element = $("<li>"+item+"<button>Delete</button></li>");
				$("#myList").append(element);
			}
			
			<!-- Funcion para aÃ±adir elementos en la lista -->
			function AddElement(){
				var value = $("#valor").val();
				localStorage.setItem(storage_size+1, value);
				var element = $("<li>"+value+"<button>Delete</button></li>");
				$("#myList").append(element);
				$("#valor").val('');
			}
			
			<!-- Funcion para eliminar elementos de la lista -->
			$('#myList').on('click','button', function(){
				var txt = $(this).closest("li").text();
				var substr = txt.substr(0, txt.length-6);
				var keys = Object.keys(localStorage);
				for (var i = 0; i < localStorage.length; i++){
					var texto = localStorage.getItem(localStorage.key(i));
					if (texto == substr){
						localStorage.removeItem(keys[i]);
					}
				}
				$(this).closest("li").remove();
			});
			
			$(document).ready( function ()  {
				$('#boton').click(AddElement);
			});
		
		</script>
	</body>
	<footer>
		<p>Author: Ali Murtaza</p>
		<p>GitHub: <a href="https://github.com/AliMurtaza98">
		https://github.com/AliMurtaza98</a>.</p>
	</footer>
	<style>
		#myList{
			background-color: #e496ff;
			font-weight:BOLD;
			font-family:arial;
		}
		h1{
			text-align:center;
			color:#fc076d;
			font-family: Times New Roman;
		}
		footer {
			font-family:Arial;
			position: absolute;
			right: 0;
			bottom: 0;
			left: 0;
			background-color:#edeff2;
			text-align: center;
			}
	</style>
</html>